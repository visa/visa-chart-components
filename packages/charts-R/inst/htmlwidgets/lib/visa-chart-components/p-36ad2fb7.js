/**
 * Copyright (c) 2022 Visa, Inc.
 *
 * This source code is licensed under the MIT license
 * https://github.com/visa/visa-chart-components/blob/master/LICENSE
 *
 **/
import{n,m as t,a as r,b as e,c as i,d as u}from"./p-3c48e0c6.js";var o,a=new Uint8Array(16);function f(){if(!o&&!(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(a)}const s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function l(n){return"string"==typeof n&&s.test(n)}for(var h=[],c=0;c<256;++c)h.push((c+256).toString(16).substr(1));function v(n,t,r){var e=(n=n||{}).random||(n.rng||f)();if(e[6]=15&e[6]|64,e[8]=63&e[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=e[i];return t}return function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(h[n[t+0]]+h[n[t+1]]+h[n[t+2]]+h[n[t+3]]+"-"+h[n[t+4]]+h[n[t+5]]+"-"+h[n[t+6]]+h[n[t+7]]+"-"+h[n[t+8]]+h[n[t+9]]+"-"+h[n[t+10]]+h[n[t+11]]+h[n[t+12]]+h[n[t+13]]+h[n[t+14]]+h[n[t+15]]).toLowerCase();if(!l(r))throw TypeError("Stringified UUID is invalid");return r}(e)}var d={value:function(){}};function w(){for(var n,t=0,r=arguments.length,e={};t<r;++t){if(!(n=arguments[t]+"")||n in e||/[\s.]/.test(n))throw new Error("illegal type: "+n);e[n]=[]}return new p(e)}function p(n){this._=n}function y(n,t){return n.trim().split(/^|\s+/).map((function(n){var r="",e=n.indexOf(".");if(e>=0&&(r=n.slice(e+1),n=n.slice(0,e)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}}))}function g(n,t){for(var r,e=0,i=n.length;e<i;++e)if((r=n[e]).name===t)return r.value}function m(n,t,r){for(var e=0,i=n.length;e<i;++e)if(n[e].name===t){n[e]=d,n=n.slice(0,e).concat(n.slice(e+1));break}return null!=r&&n.push({name:t,value:r}),n}p.prototype=w.prototype={constructor:p,on:function(n,t){var r,e=this._,i=y(n+"",e),u=-1,o=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++u<o;)if(r=(n=i[u]).type)e[r]=m(e[r],n.name,t);else if(null==t)for(r in e)e[r]=m(e[r],n.name,null);return this}for(;++u<o;)if((r=(n=i[u]).type)&&(r=g(e[r],n.name)))return r},copy:function(){var n={},t=this._;for(var r in t)n[r]=t[r].slice();return new p(n)},call:function(n,t){if((r=arguments.length-2)>0)for(var r,e,i=new Array(r),u=0;u<r;++u)i[u]=arguments[u+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(u=0,r=(e=this._[n]).length;u<r;++u)e[u].value.apply(t,i)},apply:function(n,t,r){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var e=this._[n],i=0,u=e.length;i<u;++i)e[i].value.apply(t,r)}};var b,k,M=0,N=0,E=0,x=0,R=0,q=0,A="object"==typeof performance&&performance.now?performance:Date,X="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function $(){return R||(X(j),R=A.now()+q)}function j(){R=0}function T(){this._call=this._time=this._next=null}function I(n,t,r){var e=new T;return e.restart(n,t,r),e}function C(){R=(x=A.now())+q,M=N=0;try{!function(){$(),++M;for(var n,t=b;t;)(n=R-t._time)>=0&&t._call.call(null,n),t=t._next;--M}()}finally{M=0,function(){for(var n,t,r=b,e=1/0;r;)r._call?(e>r._time&&(e=r._time),n=r,r=r._next):(t=r._next,r._next=null,r=n?n._next=t:b=t);k=n,S(e)}(),R=0}}function H(){var n=A.now(),t=n-x;t>1e3&&(q-=t,x=n)}function S(n){M||(N&&(N=clearTimeout(N)),n-R>24?(n<1/0&&(N=setTimeout(C,n-A.now()-q)),E&&(E=clearInterval(E))):(E||(x=A.now(),E=setInterval(H,1e3)),M=1,X(C)))}function Y(n,t,r){var e=new T;return e.restart((function(r){e.stop(),n(r+t)}),t=null==t?0:+t,r),e}T.prototype=I.prototype={constructor:T,restart:function(n,t,r){if("function"!=typeof n)throw new TypeError("callback is not a function");r=(null==r?$():+r)+(null==t?0:+t),this._next||k===this||(k?k._next=this:b=this,k=this),this._call=n,this._time=r,S()},stop:function(){this._call&&(this._call=null,this._time=1/0,S())}};var _=w("start","end","interrupt"),D=[];function U(n,t,r,e,i,u){var o=n.__transition;if(o){if(r in o)return}else n.__transition={};!function(n,t,r){var e,i=n.__transition;function u(f){var s,l,h,c;if(1!==r.state)return a();for(s in i)if((c=i[s]).name===r.name){if(3===c.state)return Y(u);4===c.state?(c.state=6,c.timer.stop(),c.on.call("interrupt",n,n.__data__,c.index,c.group),delete i[s]):+s<t&&(c.state=6,c.timer.stop(),delete i[s])}if(Y((function(){3===r.state&&(r.state=4,r.timer.restart(o,r.delay,r.time),o(f))})),r.state=2,r.on.call("start",n,n.__data__,r.index,r.group),2===r.state){for(r.state=3,e=new Array(h=r.tween.length),s=0,l=-1;s<h;++s)(c=r.tween[s].value.call(n,n.__data__,r.index,r.group))&&(e[++l]=c);e.length=l+1}}function o(t){for(var i=t<r.duration?r.ease.call(null,t/r.duration):(r.timer.restart(a),r.state=5,1),u=-1,o=e.length;++u<o;)e[u].call(null,i);5===r.state&&(r.on.call("end",n,n.__data__,r.index,r.group),a())}function a(){for(var e in r.state=6,r.timer.stop(),delete i[t],i)return;delete n.__transition}i[t]=r,r.timer=I((function(n){r.state=1,r.timer.restart(u,r.delay,r.time),r.delay<=n&&u(n-r.delay)}),0,r.time)}(n,r,{name:t,index:e,group:i,on:_,tween:D,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:0})}function z(n,t){var r=V(n,t);if(r.state>0)throw new Error("too late; already scheduled");return r}function O(n,t){var r=V(n,t);if(r.state>2)throw new Error("too late; already started");return r}function V(n,t){var r=n.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function B(n,t,r){n.prototype=t.prototype=r,r.constructor=n}function F(n,t){var r=Object.create(n.prototype);for(var e in t)r[e]=t[e];return r}function G(){}var J=1/.7,K="\\s*([+-]?\\d+)\\s*",L="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",P="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Q=/^#([0-9a-f]{3,8})$/,W=new RegExp("^rgb\\("+[K,K,K]+"\\)$"),Z=new RegExp("^rgb\\("+[P,P,P]+"\\)$"),nn=new RegExp("^rgba\\("+[K,K,K,L]+"\\)$"),tn=new RegExp("^rgba\\("+[P,P,P,L]+"\\)$"),rn=new RegExp("^hsl\\("+[L,P,P]+"\\)$"),en=new RegExp("^hsla\\("+[L,P,P,L]+"\\)$"),un={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function on(){return this.rgb().formatHex()}function an(){return this.rgb().formatRgb()}function fn(n){var t,r;return n=(n+"").trim().toLowerCase(),(t=Q.exec(n))?(r=t[1].length,t=parseInt(t[1],16),6===r?sn(t):3===r?new vn(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?ln(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?ln(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=W.exec(n))?new vn(t[1],t[2],t[3],1):(t=Z.exec(n))?new vn(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=nn.exec(n))?ln(t[1],t[2],t[3],t[4]):(t=tn.exec(n))?ln(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=rn.exec(n))?yn(t[1],t[2]/100,t[3]/100,1):(t=en.exec(n))?yn(t[1],t[2]/100,t[3]/100,t[4]):un.hasOwnProperty(n)?sn(un[n]):"transparent"===n?new vn(NaN,NaN,NaN,0):null}function sn(n){return new vn(n>>16&255,n>>8&255,255&n,1)}function ln(n,t,r,e){return e<=0&&(n=t=r=NaN),new vn(n,t,r,e)}function hn(n){return n instanceof G||(n=fn(n)),n?new vn((n=n.rgb()).r,n.g,n.b,n.opacity):new vn}function cn(n,t,r,e){return 1===arguments.length?hn(n):new vn(n,t,r,null==e?1:e)}function vn(n,t,r,e){this.r=+n,this.g=+t,this.b=+r,this.opacity=+e}function dn(){return"#"+pn(this.r)+pn(this.g)+pn(this.b)}function wn(){var n=this.opacity;return(1===(n=isNaN(n)?1:Math.max(0,Math.min(1,n)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===n?")":", "+n+")")}function pn(n){return((n=Math.max(0,Math.min(255,Math.round(n)||0)))<16?"0":"")+n.toString(16)}function yn(n,t,r,e){return e<=0?n=t=r=NaN:r<=0||r>=1?n=t=NaN:t<=0&&(n=NaN),new mn(n,t,r,e)}function gn(n){if(n instanceof mn)return new mn(n.h,n.s,n.l,n.opacity);if(n instanceof G||(n=fn(n)),!n)return new mn;if(n instanceof mn)return n;var t=(n=n.rgb()).r/255,r=n.g/255,e=n.b/255,i=Math.min(t,r,e),u=Math.max(t,r,e),o=NaN,a=u-i,f=(u+i)/2;return a?(o=t===u?(r-e)/a+6*(r<e):r===u?(e-t)/a+2:(t-r)/a+4,a/=f<.5?u+i:2-u-i,o*=60):a=f>0&&f<1?0:o,new mn(o,a,f,n.opacity)}function mn(n,t,r,e){this.h=+n,this.s=+t,this.l=+r,this.opacity=+e}function bn(n,t,r){return 255*(n<60?t+(r-t)*n/60:n<180?r:n<240?t+(r-t)*(240-n)/60:t)}function kn(n){return function(){return n}}function Mn(n,t){var r=t-n;return r?function(n,t){return function(r){return n+r*t}}(n,r):kn(isNaN(n)?t:n)}B(G,fn,{copy:function(n){return Object.assign(new this.constructor,this,n)},displayable:function(){return this.rgb().displayable()},hex:on,formatHex:on,formatHsl:function(){return gn(this).formatHsl()},formatRgb:an,toString:an}),B(vn,cn,F(G,{brighter:function(n){return n=null==n?J:Math.pow(J,n),new vn(this.r*n,this.g*n,this.b*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new vn(this.r*n,this.g*n,this.b*n,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dn,formatHex:dn,formatRgb:wn,toString:wn})),B(mn,(function(n,t,r,e){return 1===arguments.length?gn(n):new mn(n,t,r,null==e?1:e)}),F(G,{brighter:function(n){return n=null==n?J:Math.pow(J,n),new mn(this.h,this.s,this.l*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new mn(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=this.h%360+360*(this.h<0),t=isNaN(n)||isNaN(this.s)?0:this.s,r=this.l,e=r+(r<.5?r:1-r)*t,i=2*r-e;return new vn(bn(n>=240?n-240:n+120,i,e),bn(n,i,e),bn(n<120?n+240:n-120,i,e),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var n=this.opacity;return(1===(n=isNaN(n)?1:Math.max(0,Math.min(1,n)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===n?")":", "+n+")")}}));const Nn=function n(t){var r=function(n){return 1==(n=+n)?Mn:function(t,r){return r-t?function(n,t,r){return n=Math.pow(n,r),t=Math.pow(t,r)-n,r=1/r,function(e){return Math.pow(n+e*t,r)}}(t,r,n):kn(isNaN(t)?r:t)}}(t);function e(n,t){var e=r((n=cn(n)).r,(t=cn(t)).r),i=r(n.g,t.g),u=r(n.b,t.b),o=Mn(n.opacity,t.opacity);return function(t){return n.r=e(t),n.g=i(t),n.b=u(t),n.opacity=o(t),n+""}}return e.gamma=n,e}(1);function En(n,t){return n=+n,t=+t,function(r){return n*(1-r)+t*r}}var xn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rn=new RegExp(xn.source,"g");function qn(n,t){var r,e,i,u=xn.lastIndex=Rn.lastIndex=0,o=-1,a=[],f=[];for(n+="",t+="";(r=xn.exec(n))&&(e=Rn.exec(t));)(i=e.index)>u&&(i=t.slice(u,i),a[o]?a[o]+=i:a[++o]=i),(r=r[0])===(e=e[0])?a[o]?a[o]+=e:a[++o]=e:(a[++o]=null,f.push({i:o,x:En(r,e)})),u=Rn.lastIndex;return u<t.length&&(i=t.slice(u),a[o]?a[o]+=i:a[++o]=i),a.length<2?f[0]?function(n){return function(t){return n(t)+""}}(f[0].x):function(n){return function(){return n}}(t):(t=f.length,function(n){for(var r,e=0;e<t;++e)a[(r=f[e]).i]=r.x(n);return a.join("")})}var An,Xn,$n,jn,Tn=180/Math.PI,In={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Cn(n,t,r,e,i,u){var o,a,f;return(o=Math.sqrt(n*n+t*t))&&(n/=o,t/=o),(f=n*r+t*e)&&(r-=n*f,e-=t*f),(a=Math.sqrt(r*r+e*e))&&(r/=a,e/=a,f/=a),n*e<t*r&&(n=-n,t=-t,f=-f,o=-o),{translateX:i,translateY:u,rotate:Math.atan2(t,n)*Tn,skewX:Math.atan(f)*Tn,scaleX:o,scaleY:a}}function Hn(n,t,r,e){function i(n){return n.length?n.pop()+" ":""}return function(u,o){var a=[],f=[];return u=n(u),o=n(o),function(n,e,i,u,o,a){if(n!==i||e!==u){var f=o.push("translate(",null,t,null,r);a.push({i:f-4,x:En(n,i)},{i:f-2,x:En(e,u)})}else(i||u)&&o.push("translate("+i+t+u+r)}(u.translateX,u.translateY,o.translateX,o.translateY,a,f),function(n,t,r,u){n!==t?(n-t>180?t+=360:t-n>180&&(n+=360),u.push({i:r.push(i(r)+"rotate(",null,e)-2,x:En(n,t)})):t&&r.push(i(r)+"rotate("+t+e)}(u.rotate,o.rotate,a,f),function(n,t,r,u){n!==t?u.push({i:r.push(i(r)+"skewX(",null,e)-2,x:En(n,t)}):t&&r.push(i(r)+"skewX("+t+e)}(u.skewX,o.skewX,a,f),function(n,t,r,e,u,o){if(n!==r||t!==e){var a=u.push(i(u)+"scale(",null,",",null,")");o.push({i:a-4,x:En(n,r)},{i:a-2,x:En(t,e)})}else 1===r&&1===e||u.push(i(u)+"scale("+r+","+e+")")}(u.scaleX,u.scaleY,o.scaleX,o.scaleY,a,f),u=o=null,function(n){for(var t,r=-1,e=f.length;++r<e;)a[(t=f[r]).i]=t.x(n);return a.join("")}}}var Sn=Hn((function(n){return"none"===n?In:(An||(An=document.createElement("DIV"),Xn=document.documentElement,$n=document.defaultView),An.style.transform=n,n=$n.getComputedStyle(Xn.appendChild(An),null).getPropertyValue("transform"),Xn.removeChild(An),Cn(+(n=n.slice(7,-1).split(","))[0],+n[1],+n[2],+n[3],+n[4],+n[5]))}),"px, ","px)","deg)"),Yn=Hn((function(n){return null==n?In:(jn||(jn=document.createElementNS("http://www.w3.org/2000/svg","g")),jn.setAttribute("transform",n),(n=jn.transform.baseVal.consolidate())?Cn((n=n.matrix).a,n.b,n.c,n.d,n.e,n.f):In)}),", ",")",")");function _n(n,t){var r,e;return function(){var i=O(this,n),u=i.tween;if(u!==r)for(var o=0,a=(e=r=u).length;o<a;++o)if(e[o].name===t){(e=e.slice()).splice(o,1);break}i.tween=e}}function Dn(n,t,r){var e,i;if("function"!=typeof r)throw new Error;return function(){var u=O(this,n),o=u.tween;if(o!==e){i=(e=o).slice();for(var a={name:t,value:r},f=0,s=i.length;f<s;++f)if(i[f].name===t){i[f]=a;break}f===s&&i.push(a)}u.tween=i}}function Un(n,t,r){var e=n._id;return n.each((function(){var n=O(this,e);(n.value||(n.value={}))[t]=r.apply(this,arguments)})),function(n){return V(n,e).value[t]}}function zn(n,t){var r;return("number"==typeof t?En:t instanceof fn?Nn:(r=fn(t))?(t=r,Nn):qn)(n,t)}function On(n){return function(){this.removeAttribute(n)}}function Vn(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Bn(n,t,r){var e,i;return function(){var u=this.getAttribute(n);return u===r?null:u===e?i:i=t(e=u,r)}}function Fn(n,t,r){var e,i;return function(){var u=this.getAttributeNS(n.space,n.local);return u===r?null:u===e?i:i=t(e=u,r)}}function Gn(n,t,r){var e,i,u;return function(){var o,a=r(this);if(null!=a)return(o=this.getAttribute(n))===a?null:o===e&&a===i?u:u=t(e=o,i=a);this.removeAttribute(n)}}function Jn(n,t,r){var e,i,u;return function(){var o,a=r(this);if(null!=a)return(o=this.getAttributeNS(n.space,n.local))===a?null:o===e&&a===i?u:u=t(e=o,i=a);this.removeAttributeNS(n.space,n.local)}}function Kn(n,t){function r(){var r=this,e=t.apply(r,arguments);return e&&function(t){r.setAttributeNS(n.space,n.local,e(t))}}return r._value=t,r}function Ln(n,t){function r(){var r=this,e=t.apply(r,arguments);return e&&function(t){r.setAttribute(n,e(t))}}return r._value=t,r}function Pn(n,t){return function(){z(this,n).delay=+t.apply(this,arguments)}}function Qn(n,t){return t=+t,function(){z(this,n).delay=t}}function Wn(n,t){return function(){O(this,n).duration=+t.apply(this,arguments)}}function Zn(n,t){return t=+t,function(){O(this,n).duration=t}}function nt(n,t){if("function"!=typeof t)throw new Error;return function(){O(this,n).ease=t}}function tt(n,t,r){var e,i,u=function(n){return(n+"").trim().split(/^|\s+/).every((function(n){var t=n.indexOf(".");return t>=0&&(n=n.slice(0,t)),!n||"start"===n}))}(t)?z:O;return function(){var o=u(this,n),a=o.on;a!==e&&(i=(e=a).copy()).on(t,r),o.on=i}}var rt=i.prototype.constructor;function et(n,t,r){function e(){var e=this,i=t.apply(e,arguments);return i&&function(t){e.style.setProperty(n,i(t),r)}}return e._value=t,e}var it=0;function ut(n,t,r,e){this._groups=n,this._parents=t,this._name=r,this._id=e}function ot(){return++it}var at=i.prototype;ut.prototype={constructor:ut,select:function(n){var t=this._name,e=this._id;"function"!=typeof n&&(n=r(n));for(var i=this._groups,u=i.length,o=new Array(u),a=0;a<u;++a)for(var f,s,l=i[a],h=l.length,c=o[a]=new Array(h),v=0;v<h;++v)(f=l[v])&&(s=n.call(f,f.__data__,v,l))&&("__data__"in f&&(s.__data__=f.__data__),c[v]=s,U(c[v],t,e,v,c,V(f,e)));return new ut(o,this._parents,t,e)},selectAll:function(n){var t=this._name,r=this._id;"function"!=typeof n&&(n=e(n));for(var i=this._groups,u=i.length,o=[],a=[],f=0;f<u;++f)for(var s,l=i[f],h=l.length,c=0;c<h;++c)if(s=l[c]){for(var v,d=n.call(s,s.__data__,c,l),w=V(s,r),p=0,y=d.length;p<y;++p)(v=d[p])&&U(v,t,r,p,d,w);o.push(d),a.push(s)}return new ut(o,a,t,r)},filter:function(n){"function"!=typeof n&&(n=t(n));for(var r=this._groups,e=r.length,i=new Array(e),u=0;u<e;++u)for(var o,a=r[u],f=a.length,s=i[u]=[],l=0;l<f;++l)(o=a[l])&&n.call(o,o.__data__,l,a)&&s.push(o);return new ut(i,this._parents,this._name,this._id)},merge:function(n){if(n._id!==this._id)throw new Error;for(var t=this._groups,r=n._groups,e=t.length,i=Math.min(e,r.length),u=new Array(e),o=0;o<i;++o)for(var a,f=t[o],s=r[o],l=f.length,h=u[o]=new Array(l),c=0;c<l;++c)(a=f[c]||s[c])&&(h[c]=a);for(;o<e;++o)u[o]=t[o];return new ut(u,this._parents,this._name,this._id)},selection:function(){return new rt(this._groups,this._parents)},transition:function(){for(var n=this._name,t=this._id,r=ot(),e=this._groups,i=e.length,u=0;u<i;++u)for(var o,a=e[u],f=a.length,s=0;s<f;++s)if(o=a[s]){var l=V(o,t);U(o,n,r,s,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new ut(e,this._parents,n,r)},call:at.call,nodes:at.nodes,node:at.node,size:at.size,empty:at.empty,each:at.each,on:function(n,t){var r=this._id;return arguments.length<2?V(this.node(),r).on.on(n):this.each(tt(r,n,t))},attr:function(t,r){var e=n(t),i="transform"===e?Yn:zn;return this.attrTween(t,"function"==typeof r?(e.local?Jn:Gn)(e,i,Un(this,"attr."+t,r)):null==r?(e.local?Vn:On)(e):(e.local?Fn:Bn)(e,i,r+""))},attrTween:function(t,r){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==r)return this.tween(e,null);if("function"!=typeof r)throw new Error;var i=n(t);return this.tween(e,(i.local?Kn:Ln)(i,r))},style:function(n,t,r){var e="transform"==(n+="")?Sn:zn;return null==t?this.styleTween(n,function(n,t){var r,e,i;return function(){var o=u(this,n),a=(this.style.removeProperty(n),u(this,n));return o===a?null:o===r&&a===e?i:i=t(r=o,e=a)}}(n,e)).on("end.style."+n,function(n){return function(){this.style.removeProperty(n)}}(n)):this.styleTween(n,"function"==typeof t?function(n,t,r){var e,i,o;return function(){var a=u(this,n),f=r(this);return null==f&&(this.style.removeProperty(n),f=u(this,n)),a===f?null:a===e&&f===i?o:o=t(e=a,i=f)}}(n,e,Un(this,"style."+n,t)):function(n,t,r){var e,i;return function(){var o=u(this,n);return o===r?null:o===e?i:i=t(e=o,r)}}(n,e,t+""),r)},styleTween:function(n,t,r){var e="style."+(n+="");if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,et(n,t,null==r?"":r))},text:function(n){return this.tween("text","function"==typeof n?function(n){return function(){var t=n(this);this.textContent=null==t?"":t}}(Un(this,"text",n)):function(n){return function(){this.textContent=n}}(null==n?"":n+""))},remove:function(){return this.on("end.remove",function(n){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==n)return;t&&t.removeChild(this)}}(this._id))},tween:function(n,t){var r=this._id;if(n+="",arguments.length<2){for(var e,i=V(this.node(),r).tween,u=0,o=i.length;u<o;++u)if((e=i[u]).name===n)return e.value;return null}return this.each((null==t?_n:Dn)(r,n,t))},delay:function(n){var t=this._id;return arguments.length?this.each(("function"==typeof n?Pn:Qn)(t,n)):V(this.node(),t).delay},duration:function(n){var t=this._id;return arguments.length?this.each(("function"==typeof n?Wn:Zn)(t,n)):V(this.node(),t).duration},ease:function(n){var t=this._id;return arguments.length?this.each(nt(t,n)):V(this.node(),t).ease}};var ft={time:null,delay:0,duration:250,ease:function(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}};function st(n,t){for(var r;!(r=n.__transition)||!(r=r[t]);)if(!(n=n.parentNode))return ft.time=$(),ft;return r}i.prototype.interrupt=function(n){return this.each((function(){!function(n,t){var r,e,i,u=n.__transition,o=!0;if(u){for(i in t=null==t?null:t+"",u)(r=u[i]).name===t?(e=r.state>2&&r.state<5,r.state=6,r.timer.stop(),e&&r.on.call("interrupt",n,n.__data__,r.index,r.group),delete u[i]):o=!1;o&&delete n.__transition}}(this,n)}))},i.prototype.transition=function(n){var t,r;n instanceof ut?(t=n._id,n=n._name):(t=ot(),(r=ft).time=$(),n=null==n?null:n+"");for(var e=this._groups,i=e.length,u=0;u<i;++u)for(var o,a=e[u],f=a.length,s=0;s<f;++s)(o=a[s])&&U(o,n,t,s,a,r||st(o,t));return new ut(e,this._parents,n,t)};export{fn as a,Nn as b,kn as c,qn as d,En as i,v}