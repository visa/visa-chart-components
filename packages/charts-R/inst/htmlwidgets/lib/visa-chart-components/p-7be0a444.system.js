/**
 * Copyright (c) 2024 Visa, Inc.
 *
 * This source code is licensed under the MIT license
 * https://github.com/visa/visa-chart-components/blob/master/LICENSE
 *
 **/
System.register(["./p-8eb67ad8.system.js"],(function(t){"use strict";var n,e,r,i,a,o;return{setters:[function(t){n=t.n;e=t.m;r=t.a;i=t.b;a=t.c;o=t.d}],execute:function(){t({a:At,c:Ft,d:en,i:Qt,v:v});function u(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var s;var l=new Uint8Array(16);function c(){if(!s){s=typeof crypto!=="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!=="undefined"&&typeof msCrypto.getRandomValues==="function"&&msCrypto.getRandomValues.bind(msCrypto);if(!s){throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")}}return s(l)}var f=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function h(t){return typeof t==="string"&&f.test(t)}var p=[];for(var d=0;d<256;++d){p.push((d+256).toString(16).substr(1))}function g(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var e=(p[t[n+0]]+p[t[n+1]]+p[t[n+2]]+p[t[n+3]]+"-"+p[t[n+4]]+p[t[n+5]]+"-"+p[t[n+6]]+p[t[n+7]]+"-"+p[t[n+8]]+p[t[n+9]]+"-"+p[t[n+10]]+p[t[n+11]]+p[t[n+12]]+p[t[n+13]]+p[t[n+14]]+p[t[n+15]]).toLowerCase();if(!h(e)){throw TypeError("Stringified UUID is invalid")}return e}function v(t,n,e){t=t||{};var r=t.random||(t.rng||c)();r[6]=r[6]&15|64;r[8]=r[8]&63|128;if(n){e=e||0;for(var i=0;i<16;++i){n[e+i]=r[i]}return n}return g(r)}var y={value:function(){}};function m(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new w(e)}function w(t){this._=t}function _(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0)e=t.slice(r+1),t=t.slice(0,r);if(t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}w.prototype=m.prototype={constructor:w,on:function(t,n){var e=this._,r=_(t+"",e),i,a=-1,o=r.length;if(arguments.length<2){while(++a<o)if((i=(t=r[a]).type)&&(i=b(e[i],t.name)))return i;return}if(n!=null&&typeof n!=="function")throw new Error("invalid callback: "+n);while(++a<o){if(i=(t=r[a]).type)e[i]=x(e[i],t.name,n);else if(n==null)for(i in e)e[i]=x(e[i],t.name,null)}return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new w(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,a;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(n,e)}};function b(t,n){for(var e=0,r=t.length,i;e<r;++e){if((i=t[e]).name===n){return i.value}}}function x(t,n,e){for(var r=0,i=t.length;r<i;++r){if(t[r].name===n){t[r]=y,t=t.slice(0,r).concat(t.slice(r+1));break}}if(e!=null)t.push({name:n,value:e});return t}var k=0,N=0,E=0,A=1e3,M,R,S=0,X=0,q=0,C=typeof performance==="object"&&performance.now?performance:Date,I=typeof window==="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function P(){return X||(I(T),X=C.now()+q)}function T(){X=0}function j(){this._call=this._time=this._next=null}j.prototype=H.prototype={constructor:j,restart:function(t,n,e){if(typeof t!=="function")throw new TypeError("callback is not a function");e=(e==null?P():+e)+(n==null?0:+n);if(!this._next&&R!==this){if(R)R._next=this;else M=this;R=this}this._call=t;this._time=e;z()},stop:function(){if(this._call){this._call=null;this._time=Infinity;z()}}};function H(t,n,e){var r=new j;r.restart(t,n,e);return r}function V(){P();++k;var t=M,n;while(t){if((n=X-t._time)>=0)t._call.call(null,n);t=t._next}--k}function O(){X=(S=C.now())+q;k=N=0;try{V()}finally{k=0;$();X=0}}function Y(){var t=C.now(),n=t-S;if(n>A)q-=n,S=t}function $(){var t,n=M,e,r=Infinity;while(n){if(n._call){if(r>n._time)r=n._time;t=n,n=n._next}else{e=n._next,n._next=null;n=t?t._next=e:M=e}}R=t;z(r)}function z(t){if(k)return;if(N)N=clearTimeout(N);var n=t-X;if(n>24){if(t<Infinity)N=setTimeout(O,t-C.now()-q);if(E)E=clearInterval(E)}else{if(!E)S=C.now(),E=setInterval(Y,A);k=1,I(O)}}function D(t,n,e){var r=new j;n=n==null?0:+n;r.restart((function(e){r.stop();t(e+n)}),n,e);return r}var U=m("start","end","interrupt");var F=[];var L=0;var B=1;var G=2;var J=3;var K=4;var Q=5;var W=6;function Z(t,n,e,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(e in o)return;rt(t,e,{name:n,index:r,group:i,on:U,tween:F,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:L})}function tt(t,n){var e=et(t,n);if(e.state>L)throw new Error("too late; already scheduled");return e}function nt(t,n){var e=et(t,n);if(e.state>G)throw new Error("too late; already started");return e}function et(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function rt(t,n,e){var r=t.__transition,i;r[n]=e;e.timer=H(a,0,e.time);function a(t){e.state=B;e.timer.restart(o,e.delay,e.time);if(e.delay<=t)o(t-e.delay)}function o(a){var l,c,f,h;if(e.state!==B)return s();for(l in r){h=r[l];if(h.name!==e.name)continue;if(h.state===J)return D(o);if(h.state===K){h.state=W;h.timer.stop();h.on.call("interrupt",t,t.__data__,h.index,h.group);delete r[l]}else if(+l<n){h.state=W;h.timer.stop();delete r[l]}}D((function(){if(e.state===J){e.state=K;e.timer.restart(u,e.delay,e.time);u(a)}}));e.state=G;e.on.call("start",t,t.__data__,e.index,e.group);if(e.state!==G)return;e.state=J;i=new Array(f=e.tween.length);for(l=0,c=-1;l<f;++l){if(h=e.tween[l].value.call(t,t.__data__,e.index,e.group)){i[++c]=h}}i.length=c+1}function u(n){var r=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(s),e.state=Q,1),a=-1,o=i.length;while(++a<o){i[a].call(null,r)}if(e.state===Q){e.on.call("end",t,t.__data__,e.index,e.group);s()}}function s(){e.state=W;e.timer.stop();delete r[n];for(var i in r)return;delete t.__transition}}function it(t,n){var e=t.__transition,r,i,a=true,o;if(!e)return;n=n==null?null:n+"";for(o in e){if((r=e[o]).name!==n){a=false;continue}i=r.state>G&&r.state<Q;r.state=W;r.timer.stop();if(i)r.on.call("interrupt",t,t.__data__,r.index,r.group);delete e[o]}if(a)delete t.__transition}function at(t){return this.each((function(){it(this,t)}))}function ot(t,n,e){t.prototype=n.prototype=e;e.constructor=t}function ut(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function st(){}var lt=.7;var ct=1/lt;var ft="\\s*([+-]?\\d+)\\s*",ht="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dt=/^#([0-9a-f]{3,8})$/,gt=new RegExp("^rgb\\(".concat(ft,",").concat(ft,",").concat(ft,"\\)$")),vt=new RegExp("^rgb\\(".concat(pt,",").concat(pt,",").concat(pt,"\\)$")),yt=new RegExp("^rgba\\(".concat(ft,",").concat(ft,",").concat(ft,",").concat(ht,"\\)$")),mt=new RegExp("^rgba\\(".concat(pt,",").concat(pt,",").concat(pt,",").concat(ht,"\\)$")),wt=new RegExp("^hsl\\(".concat(ht,",").concat(pt,",").concat(pt,"\\)$")),_t=new RegExp("^hsla\\(".concat(ht,",").concat(pt,",").concat(pt,",").concat(ht,"\\)$"));var bt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ot(st,At,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:xt,formatHex:xt,formatHex8:kt,formatHsl:Nt,formatRgb:Et,toString:Et});function xt(){return this.rgb().formatHex()}function kt(){return this.rgb().formatHex8()}function Nt(){return Ot(this).formatHsl()}function Et(){return this.rgb().formatRgb()}function At(t){var n,e;t=(t+"").trim().toLowerCase();return(n=dt.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?Mt(n):e===3?new qt(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?Rt(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?Rt(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=gt.exec(t))?new qt(n[1],n[2],n[3],1):(n=vt.exec(t))?new qt(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=yt.exec(t))?Rt(n[1],n[2],n[3],n[4]):(n=mt.exec(t))?Rt(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=wt.exec(t))?Vt(n[1],n[2]/100,n[3]/100,1):(n=_t.exec(t))?Vt(n[1],n[2]/100,n[3]/100,n[4]):bt.hasOwnProperty(t)?Mt(bt[t]):t==="transparent"?new qt(NaN,NaN,NaN,0):null}function Mt(t){return new qt(t>>16&255,t>>8&255,t&255,1)}function Rt(t,n,e,r){if(r<=0)t=n=e=NaN;return new qt(t,n,e,r)}function St(t){if(!(t instanceof st))t=At(t);if(!t)return new qt;t=t.rgb();return new qt(t.r,t.g,t.b,t.opacity)}function Xt(t,n,e,r){return arguments.length===1?St(t):new qt(t,n,e,r==null?1:r)}function qt(t,n,e,r){this.r=+t;this.g=+n;this.b=+e;this.opacity=+r}ot(qt,Xt,ut(st,{brighter:function(t){t=t==null?ct:Math.pow(ct,t);return new qt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){t=t==null?lt:Math.pow(lt,t);return new qt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},clamp:function(){return new qt(jt(this.r),jt(this.g),jt(this.b),Tt(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&(-.5<=this.g&&this.g<255.5)&&(-.5<=this.b&&this.b<255.5)&&(0<=this.opacity&&this.opacity<=1)},hex:Ct,formatHex:Ct,formatHex8:It,formatRgb:Pt,toString:Pt}));function Ct(){return"#".concat(Ht(this.r)).concat(Ht(this.g)).concat(Ht(this.b))}function It(){return"#".concat(Ht(this.r)).concat(Ht(this.g)).concat(Ht(this.b)).concat(Ht((isNaN(this.opacity)?1:this.opacity)*255))}function Pt(){var t=Tt(this.opacity);return"".concat(t===1?"rgb(":"rgba(").concat(jt(this.r),", ").concat(jt(this.g),", ").concat(jt(this.b)).concat(t===1?")":", ".concat(t,")"))}function Tt(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function jt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ht(t){t=jt(t);return(t<16?"0":"")+t.toString(16)}function Vt(t,n,e,r){if(r<=0)t=n=e=NaN;else if(e<=0||e>=1)t=n=NaN;else if(n<=0)t=NaN;return new $t(t,n,e,r)}function Ot(t){if(t instanceof $t)return new $t(t.h,t.s,t.l,t.opacity);if(!(t instanceof st))t=At(t);if(!t)return new $t;if(t instanceof $t)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),a=Math.max(n,e,r),o=NaN,u=a-i,s=(a+i)/2;if(u){if(n===a)o=(e-r)/u+(e<r)*6;else if(e===a)o=(r-n)/u+2;else o=(n-e)/u+4;u/=s<.5?a+i:2-a-i;o*=60}else{u=s>0&&s<1?0:o}return new $t(o,u,s,t.opacity)}function Yt(t,n,e,r){return arguments.length===1?Ot(t):new $t(t,n,e,r==null?1:r)}function $t(t,n,e,r){this.h=+t;this.s=+n;this.l=+e;this.opacity=+r}ot($t,Yt,ut(st,{brighter:function(t){t=t==null?ct:Math.pow(ct,t);return new $t(this.h,this.s,this.l*t,this.opacity)},darker:function(t){t=t==null?lt:Math.pow(lt,t);return new $t(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new qt(Ut(t>=240?t-240:t+120,i,r),Ut(t,i,r),Ut(t<120?t+240:t-120,i,r),this.opacity)},clamp:function(){return new $t(zt(this.h),Dt(this.s),Dt(this.l),Tt(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&(0<=this.l&&this.l<=1)&&(0<=this.opacity&&this.opacity<=1)},formatHsl:function(){var t=Tt(this.opacity);return"".concat(t===1?"hsl(":"hsla(").concat(zt(this.h),", ").concat(Dt(this.s)*100,"%, ").concat(Dt(this.l)*100,"%").concat(t===1?")":", ".concat(t,")"))}}));function zt(t){t=(t||0)%360;return t<0?t+360:t}function Dt(t){return Math.max(0,Math.min(1,t||0))}function Ut(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}function Ft(t){return function(){return t}}function Lt(t,n){return function(e){return t+e*n}}function Bt(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function Gt(t){return(t=+t)===1?Jt:function(n,e){return e-n?Bt(n,e,t):Ft(isNaN(n)?e:n)}}function Jt(t,n){var e=n-t;return e?Lt(t,e):Ft(isNaN(t)?n:t)}var Kt=t("b",function t(n){var e=Gt(n);function r(t,n){var r=e((t=Xt(t)).r,(n=Xt(n)).r),i=e(t.g,n.g),a=e(t.b,n.b),o=Jt(t.opacity,n.opacity);return function(n){t.r=r(n);t.g=i(n);t.b=a(n);t.opacity=o(n);return t+""}}r.gamma=t;return r}(1));function Qt(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}var Wt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zt=new RegExp(Wt.source,"g");function tn(t){return function(){return t}}function nn(t){return function(n){return t(n)+""}}function en(t,n){var e=Wt.lastIndex=Zt.lastIndex=0,r,i,a,o=-1,u=[],s=[];t=t+"",n=n+"";while((r=Wt.exec(t))&&(i=Zt.exec(n))){if((a=i.index)>e){a=n.slice(e,a);if(u[o])u[o]+=a;else u[++o]=a}if((r=r[0])===(i=i[0])){if(u[o])u[o]+=i;else u[++o]=i}else{u[++o]=null;s.push({i:o,x:Qt(r,i)})}e=Zt.lastIndex}if(e<n.length){a=n.slice(e);if(u[o])u[o]+=a;else u[++o]=a}return u.length<2?s[0]?nn(s[0].x):tn(n):(n=s.length,function(t){for(var e=0,r;e<n;++e)u[(r=s[e]).i]=r.x(t);return u.join("")})}var rn=180/Math.PI;var an={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function on(t,n,e,r,i,a){var o,u,s;if(o=Math.sqrt(t*t+n*n))t/=o,n/=o;if(s=t*e+n*r)e-=t*s,r-=n*s;if(u=Math.sqrt(e*e+r*r))e/=u,r/=u,s/=u;if(t*r<n*e)t=-t,n=-n,s=-s,o=-o;return{translateX:i,translateY:a,rotate:Math.atan2(n,t)*rn,skewX:Math.atan(s)*rn,scaleX:o,scaleY:u}}var un,sn,ln,cn;function fn(t){if(t==="none")return an;if(!un)un=document.createElement("DIV"),sn=document.documentElement,ln=document.defaultView;un.style.transform=t;t=ln.getComputedStyle(sn.appendChild(un),null).getPropertyValue("transform");sn.removeChild(un);t=t.slice(7,-1).split(",");return on(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5])}function hn(t){if(t==null)return an;if(!cn)cn=document.createElementNS("http://www.w3.org/2000/svg","g");cn.setAttribute("transform",t);if(!(t=cn.transform.baseVal.consolidate()))return an;t=t.matrix;return on(t.a,t.b,t.c,t.d,t.e,t.f)}function pn(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}function a(t,r,i,a,o,u){if(t!==i||r!==a){var s=o.push("translate(",null,n,null,e);u.push({i:s-4,x:Qt(t,i)},{i:s-2,x:Qt(r,a)})}else if(i||a){o.push("translate("+i+n+a+e)}}function o(t,n,e,a){if(t!==n){if(t-n>180)n+=360;else if(n-t>180)t+=360;a.push({i:e.push(i(e)+"rotate(",null,r)-2,x:Qt(t,n)})}else if(n){e.push(i(e)+"rotate("+n+r)}}function u(t,n,e,a){if(t!==n){a.push({i:e.push(i(e)+"skewX(",null,r)-2,x:Qt(t,n)})}else if(n){e.push(i(e)+"skewX("+n+r)}}function s(t,n,e,r,a,o){if(t!==e||n!==r){var u=a.push(i(a)+"scale(",null,",",null,")");o.push({i:u-4,x:Qt(t,e)},{i:u-2,x:Qt(n,r)})}else if(e!==1||r!==1){a.push(i(a)+"scale("+e+","+r+")")}}return function(n,e){var r=[],i=[];n=t(n),e=t(e);a(n.translateX,n.translateY,e.translateX,e.translateY,r,i);o(n.rotate,e.rotate,r,i);u(n.skewX,e.skewX,r,i);s(n.scaleX,n.scaleY,e.scaleX,e.scaleY,r,i);n=e=null;return function(t){var n=-1,e=i.length,a;while(++n<e)r[(a=i[n]).i]=a.x(t);return r.join("")}}}var dn=pn(fn,"px, ","px)","deg)");var gn=pn(hn,", ",")",")");function vn(t,n){var e,r;return function(){var i=nt(this,t),a=i.tween;if(a!==e){r=e=a;for(var o=0,u=r.length;o<u;++o){if(r[o].name===n){r=r.slice();r.splice(o,1);break}}}i.tween=r}}function yn(t,n,e){var r,i;if(typeof e!=="function")throw new Error;return function(){var a=nt(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var u={name:n,value:e},s=0,l=i.length;s<l;++s){if(i[s].name===n){i[s]=u;break}}if(s===l)i.push(u)}a.tween=i}}function mn(t,n){var e=this._id;t+="";if(arguments.length<2){var r=et(this.node(),e).tween;for(var i=0,a=r.length,o;i<a;++i){if((o=r[i]).name===t){return o.value}}return null}return this.each((n==null?vn:yn)(e,t,n))}function wn(t,n,e){var r=t._id;t.each((function(){var t=nt(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}));return function(t){return et(t,r).value[n]}}function _n(t,n){var e;return(typeof n==="number"?Qt:n instanceof At?Kt:(e=At(n))?(n=e,Kt):en)(t,n)}function bn(t){return function(){this.removeAttribute(t)}}function xn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function kn(t,n,e){var r,i;return function(){var a=this.getAttribute(t);return a===e?null:a===r?i:i=n(r=a,e)}}function Nn(t,n,e){var r,i;return function(){var a=this.getAttributeNS(t.space,t.local);return a===e?null:a===r?i:i=n(r=a,e)}}function En(t,n,e){var r,i,a;return function(){var o,u=e(this);if(u==null)return void this.removeAttribute(t);o=this.getAttribute(t);return o===u?null:o===r&&u===i?a:a=n(r=o,i=u)}}function An(t,n,e){var r,i,a;return function(){var o,u=e(this);if(u==null)return void this.removeAttributeNS(t.space,t.local);o=this.getAttributeNS(t.space,t.local);return o===u?null:o===r&&u===i?a:a=n(r=o,i=u)}}function Mn(t,e){var r=n(t),i=r==="transform"?gn:_n;return this.attrTween(t,typeof e==="function"?(r.local?An:En)(r,i,wn(this,"attr."+t,e)):e==null?(r.local?xn:bn)(r):(r.local?Nn:kn)(r,i,e+""))}function Rn(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttributeNS(t.space,t.local,r(n))}}e._value=n;return e}function Sn(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttribute(t,r(n))}}e._value=n;return e}function Xn(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!=="function")throw new Error;var i=n(t);return this.tween(r,(i.local?Rn:Sn)(i,e))}function qn(t,n){return function(){tt(this,t).delay=+n.apply(this,arguments)}}function Cn(t,n){return n=+n,function(){tt(this,t).delay=n}}function In(t){var n=this._id;return arguments.length?this.each((typeof t==="function"?qn:Cn)(n,t)):et(this.node(),n).delay}function Pn(t,n){return function(){nt(this,t).duration=+n.apply(this,arguments)}}function Tn(t,n){return n=+n,function(){nt(this,t).duration=n}}function jn(t){var n=this._id;return arguments.length?this.each((typeof t==="function"?Pn:Tn)(n,t)):et(this.node(),n).duration}function Hn(t,n){if(typeof n!=="function")throw new Error;return function(){nt(this,t).ease=n}}function Vn(t){var n=this._id;return arguments.length?this.each(Hn(n,t)):et(this.node(),n).ease}function On(t){if(typeof t!=="function")t=e(t);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],u=o.length,s=i[a]=[],l,c=0;c<u;++c){if((l=o[c])&&t.call(l,l.__data__,c,o)){s.push(l)}}}return new se(i,this._parents,this._name,this._id)}function Yn(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),o=new Array(r),u=0;u<a;++u){for(var s=n[u],l=e[u],c=s.length,f=o[u]=new Array(c),h,p=0;p<c;++p){if(h=s[p]||l[p]){f[p]=h}}}for(;u<r;++u){o[u]=n[u]}return new se(o,this._parents,this._name,this._id)}function $n(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");if(n>=0)t=t.slice(0,n);return!t||t==="start"}))}function zn(t,n,e){var r,i,a=$n(n)?tt:nt;return function(){var o=a(this,t),u=o.on;if(u!==r)(i=(r=u).copy()).on(n,e);o.on=i}}function Dn(t,n){var e=this._id;return arguments.length<2?et(this.node(),e).on.on(t):this.each(zn(e,t,n))}function Un(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;if(n)n.removeChild(this)}}function Fn(){return this.on("end.remove",Un(this._id))}function Ln(t){var n=this._name,e=this._id;if(typeof t!=="function")t=r(t);for(var i=this._groups,a=i.length,o=new Array(a),u=0;u<a;++u){for(var s=i[u],l=s.length,c=o[u]=new Array(l),f,h,p=0;p<l;++p){if((f=s[p])&&(h=t.call(f,f.__data__,p,s))){if("__data__"in f)h.__data__=f.__data__;c[p]=h;Z(c[p],n,e,p,c,et(f,e))}}}return new se(o,this._parents,n,e)}function Bn(t){var n=this._name,e=this._id;if(typeof t!=="function")t=i(t);for(var r=this._groups,a=r.length,o=[],u=[],s=0;s<a;++s){for(var l=r[s],c=l.length,f,h=0;h<c;++h){if(f=l[h]){for(var p=t.call(f,f.__data__,h,l),d,g=et(f,e),v=0,y=p.length;v<y;++v){if(d=p[v]){Z(d,n,e,v,p,g)}}o.push(p);u.push(f)}}}return new se(o,u,n,e)}var Gn=a.prototype.constructor;function Jn(){return new Gn(this._groups,this._parents)}function Kn(t,n){var e,r,i;return function(){var a=o(this,t),u=(this.style.removeProperty(t),o(this,t));return a===u?null:a===e&&u===r?i:i=n(e=a,r=u)}}function Qn(t){return function(){this.style.removeProperty(t)}}function Wn(t,n,e){var r,i;return function(){var a=o(this,t);return a===e?null:a===r?i:i=n(r=a,e)}}function Zn(t,n,e){var r,i,a;return function(){var u=o(this,t),s=e(this);if(s==null)s=(this.style.removeProperty(t),o(this,t));return u===s?null:u===r&&s===i?a:a=n(r=u,i=s)}}function te(t,n,e){var r=(t+="")==="transform"?dn:_n;return n==null?this.styleTween(t,Kn(t,r)).on("end.style."+t,Qn(t)):this.styleTween(t,typeof n==="function"?Zn(t,r,wn(this,"style."+t,n)):Wn(t,r,n+""),e)}function ne(t,n,e){function r(){var r=this,i=n.apply(r,arguments);return i&&function(n){r.style.setProperty(t,i(n),e)}}r._value=n;return r}function ee(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!=="function")throw new Error;return this.tween(r,ne(t,n,e==null?"":e))}function re(t){return function(){this.textContent=t}}function ie(t){return function(){var n=t(this);this.textContent=n==null?"":n}}function ae(t){return this.tween("text",typeof t==="function"?ie(wn(this,"text",t)):re(t==null?"":t+""))}function oe(){var t=this._name,n=this._id,e=le();for(var r=this._groups,i=r.length,a=0;a<i;++a){for(var o=r[a],u=o.length,s,l=0;l<u;++l){if(s=o[l]){var c=et(s,n);Z(s,t,e,l,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}}}return new se(r,this._parents,t,e)}var ue=0;function se(t,n,e,r){this._groups=t;this._parents=n;this._name=e;this._id=r}function le(){return++ue}var ce=a.prototype;se.prototype={constructor:se,select:Ln,selectAll:Bn,filter:On,merge:Yn,selection:Jn,transition:oe,call:ce.call,nodes:ce.nodes,node:ce.node,size:ce.size,empty:ce.empty,each:ce.each,on:Dn,attr:Mn,attrTween:Xn,style:te,styleTween:ee,text:ae,remove:Fn,tween:mn,delay:In,duration:jn,ease:Vn};var fe={time:null,delay:0,duration:250,ease:u};function he(t,n){var e;while(!(e=t.__transition)||!(e=e[n])){if(!(t=t.parentNode)){return fe.time=P(),fe}}return e}function pe(t){var n,e;if(t instanceof se){n=t._id,t=t._name}else{n=le(),(e=fe).time=P(),t=t==null?null:t+""}for(var r=this._groups,i=r.length,a=0;a<i;++a){for(var o=r[a],u=o.length,s,l=0;l<u;++l){if(s=o[l]){Z(s,t,n,l,o,e||he(s,n))}}}return new se(r,this._parents,t,n)}a.prototype.interrupt=at;a.prototype.transition=pe}}}));